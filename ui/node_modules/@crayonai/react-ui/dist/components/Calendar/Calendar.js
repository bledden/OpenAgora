import { jsx as _jsx } from "react/jsx-runtime";
import clsx from "clsx";
import { forwardRef, useRef } from "react";
import { DayPicker } from "react-day-picker";
import { useLayoutContext } from "../../context/LayoutContext";
import { useMultipleRefs } from "../../hooks/useMultipleRefs";
import { MonthsDropdown, YearsDropdown } from "./components/helperComponents";
import { getDayPickerStyles } from "./utils/styles";
export const Calendar = forwardRef(({ className, classNames, ...props }, ref) => {
    const { layout } = useLayoutContext();
    const { DateSingleClasses, DateRangeClasses } = getDayPickerStyles(layout);
    const containerRef = useRef(null);
    const assignRef = useMultipleRefs(ref, containerRef);
    const commonProps = {
        captionLayout: "dropdown",
        components: {
            MonthsDropdown: (props) => (_jsx(MonthsDropdown, { ...props, container: containerRef.current })),
            YearsDropdown: (props) => (_jsx(YearsDropdown, { ...props, container: containerRef.current })),
        },
    };
    return (_jsx("div", { ref: assignRef, className: clsx("crayon-calendar-container", className), children: _jsx(DayPicker, { ...commonProps, ...props, classNames: {
                ...(props.mode === "single" || props.mode === "multiple"
                    ? DateSingleClasses
                    : DateRangeClasses),
                ...classNames,
            } }) }));
});
//# sourceMappingURL=Calendar.js.map