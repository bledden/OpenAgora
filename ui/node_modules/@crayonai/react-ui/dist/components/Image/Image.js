import { jsx as _jsx } from "react/jsx-runtime";
import * as AspectRatio from "@radix-ui/react-aspect-ratio";
import clsx from "clsx";
import { forwardRef } from "react";
const aspectRatioMap = {
    "1:1": 1,
    "3:2": 3 / 2,
    "3:4": 3 / 4,
    "4:3": 4 / 3,
    "16:9": 16 / 9,
};
const scaleMap = {
    fit: "crayon-image-fit",
    fill: "crayon-image-fill",
};
export const Image = forwardRef((props, ref) => {
    const { src, alt, styles, className, aspectRatio = "3:2", scale = "fill", ...rest } = props;
    const imageClasses = clsx("crayon-image", {
        [`${scaleMap[scale]}`]: scale,
    }, className);
    const image = (_jsx("img", { ref: ref, src: src, alt: alt, className: imageClasses, style: styles, onError: (e) => {
            e.currentTarget.style.display = "none";
            console.error(`Failed to load image: ${src}`);
        }, ...rest }));
    return _jsx(AspectRatio.Root, { ratio: aspectRatioMap[aspectRatio], children: image });
});
Image.displayName = "Image";
//# sourceMappingURL=Image.js.map