import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React from "react";
import { LineInBarShape } from "../../shared";
const CustomBarShapeComponent = (props) => {
    const { 
    // recharts props
    y, payload, 
    // my props
    index, categoryKey, effectiveWidth, labelHeight, barInternalLineColor, internalLineWidth, hoveredCategory, variant, 
    // rest of recharts props to pass down
    ...rest } = props;
    // y might be undefined if not passed by recharts, but it's used.
    // The original code has `let { y } = barProps;`. If `barProps.y` is undefined, `y` is undefined.
    // The same for `payload`.
    if (y === undefined || !payload) {
        return null; // Or some fallback
    }
    let label = null;
    if (index === 0 && payload[categoryKey]) {
        const labelX = 0;
        const labelWidth = effectiveWidth;
        const labelY = y - labelHeight / 2;
        label = (_jsx("foreignObject", { x: labelX, y: labelY, width: labelWidth, height: labelHeight, style: { pointerEvents: "none" }, xmlns: "http://www.w3.org/1999/xhtml", children: _jsx("div", { className: "crayon-horizontal-bar-chart-category-label", children: payload[categoryKey] }) }));
    }
    return (_jsxs("g", { children: [label, _jsx(LineInBarShape, { ...rest, payload: payload, y: y + labelHeight / 2, internalLineColor: barInternalLineColor, internalLineWidth: internalLineWidth, isHovered: hoveredCategory !== null, hoveredCategory: hoveredCategory, categoryKey: categoryKey, variant: variant, orientation: "horizontal" })] }));
};
export const CustomBarShape = React.memo(CustomBarShapeComponent);
//# sourceMappingURL=CustomBarShape.js.map