import{b as c,d}from"./xmlParser-URxwKJGT.js";const l=()=>{const r=new TransformStream,t=r.writable.getWriter();let a=!1,s=!1,o=!1,n="";return{responseStream:r.readable,writeThinkItem:async({title:e,description:m,ephemeral:i=!0})=>{if(a||o)throw new Error("Think cannot be sent after content streaming has started or custom markdown has been added");const w=d(e,m,i);i||(n+=w),await t.write(w)},writeContent:async e=>{if(s)throw new Error("Content cannot be sent after content streaming ended");await t.write(e),n+=e,a=!0},writeCustomMarkdown:async e=>{a&&(s=!0),await t.write(c(e)),n+=c(e),o=!0},end:async()=>{await t.close()},getAssistantMessage:()=>({role:"assistant",content:n})}};export{l as makeC1Response};